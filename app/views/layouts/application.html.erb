<!DOCTYPE html>
<html>
  <head>
    <title>Twitter</title>
    <%= favicon_link_tag 'img.png' %>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
  </head>

  <body>
  <div class="container-fluid">
    <div class="row">
      <div class="col-3 h-scroll">
        <div class="b-example-divider"></div>
        <div class="d-flex flex-column flex-shrink-0 p-1 bg-white" style="width: 355px;">
          <ul class="nav nav-pills flex-column mb-auto" style="align-content: center; ">
            <li style="padding-left: 2px; padding-top: 10px; padding-bottom: 5px">

              <a href="<%=root_path %>" class="logo"  >
                <i class="bi bi-twitter" style="color: #1DA1F2; font-size: 2rem; vertical-align: middle"></i>

              </a>
            </li>

            <li>
              <div class="nav-item">
                <% if current_page?('/') %>
                  <a href="/" class="nav-link link-dark " aria-current="page">
                      <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-house-heart-fill" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.707L8 2.207l6.646 6.646a.5.5 0 0 0 .708-.707L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z"/>
                        <path fill-rule="evenodd" d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6Zm0 5.189c1.664-1.673 5.825 1.254 0 5.018-5.825-3.764-1.664-6.691 0-5.018Z"/>
                      </svg>
                      &ensp;&ensp;<span id="nav_link"><strong>Home</strong></span>
                    </a>
                  <% else %>
                  <a href="/" class="nav-link link-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-house-heart" viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.707L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.646a.5.5 0 0 0 .708-.707L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207l-5-5-5 5V13.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7.207Zm-5-.225C9.664 5.309 13.825 8.236 8 12 2.175 8.236 6.336 5.309 8 6.982Z"/>
                    </svg>
                    &ensp;&ensp;<span id="nav_link">Home</span>
                  </a>
                <% end %>
              </div>
            </li>
            <li>
              <div class="nav-item">
                <% if controller.controller_name == 'notifications' %>
                  <a href="/notifications" class="nav-link link-dark">
                        <i class="bi bi-bell-fill" style="font-size: 25px; vertical-align: middle"></i>
                        &ensp;&ensp;<span id="nav_link" style="vertical-align: middle"><strong>Notifications</strong></span>
                  </a>
                <% else %>
                  <a href="/notifications" class="nav-link link-dark">
                    <i class="bi bi-bell" style="font-size: 25px; vertical-align: middle"></i>
                    &ensp;&ensp;<span id="nav_link" style="vertical-align: middle">Notifications</span>
                  </a>
                <% end %>
              </div>
            </li>


            <li>
              <div class="nav-item">
                <% if controller.controller_name == 'conversations' %>
                  <a href="/conversations" class="nav-link link-dark">
                    <i class="bi bi-envelope-fill" style="font-size: 25px; vertical-align: middle"></i>
                    &ensp;&ensp;<span id="nav_link" style="vertical-align: middle"><strong>Messages</strong></span>
                  </a>
                <% else %>
                  <a href="/conversations" class="nav-link link-dark">
                    <i class="bi bi-envelope" style="font-size: 25px; vertical-align: middle"></i>
                    &ensp;&ensp;<span id="nav_link" style="vertical-align: middle">Messages</span>
                  </a>
                <% end %>
              </div>
            </li>



            <li>
              <div class="nav-item">
                <% if controller.controller_name == 'bookmarks' %>
                  <a href="/" class="nav-link link-dark">
                    <i class="bi bi-bookmark-fill" style="font-size: 25px; vertical-align: middle"></i>
                    &ensp;&ensp;<span id="nav_link" style="vertical-align: middle"><strong>Bookmarks</strong></span>
                  </a>
                <% else %>
                  <a href="/" class="nav-link link-dark">
                    <i class="bi bi-bookmark" style="font-size: 25px; vertical-align: middle"></i>
                    &ensp;&ensp;<span id="nav_link" style="vertical-align: middle">Bookmarks</span>
                  </a>
                <% end %>
              </div>
            </li>

            <li>
              <div class="nav-item">
                <% if user_signed_in? %>
                  <%if current_page?(user_path(current_user)) %>
                    <a href="/users/<%=current_user.id %>" class="nav-link link-dark">
                      <i class="bi bi-person-fill" style="font-size: 25px; vertical-align: middle"></i>
                      &ensp;&ensp;<span id="nav_link" style="vertical-align: middle"><strong>Profile</strong></span>
                    </a>
                  <% else %>
                    <a href="/users/<%=current_user.id %>" class="nav-link link-dark">
                      <i class="bi bi-person" style="font-size: 25px; vertical-align: middle"></i>
                      &ensp;&ensp;<span id="nav_link" style="vertical-align: middle">Profile</span>
                    </a>
                  <%end %>
                <%end %>
              </div>
            </li>

            <li>
                <button type="button" class="btn btn-primary" href="<%= new_tweet_path %>" data-bs-toggle="modal" data-bs-target="#exampleModal">
                  <span style="font-size: large">Tweet</span>
                </button>
            </li>


            <li class="user">
              <% if user_signed_in? %>
                <div class="nav-item" style="height: 63px; border-radius: 30px;">
                  <div class="btn-group dropup">
                    <button type="button" class="btn login" data-bs-toggle="dropdown" aria-expanded="false" style="text-align: left;">
                      <%= user_avatar(current_user ,'40px') %>
                      <span id='name' style="font-size: 15px;padding: unset; padding-left: 5px" ><%=current_user.name %> </span>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <p class="dropdown-header" style="margin-top: -30px"><strong><%=current_user.name %></strong><br><small>@<%=current_user.username %></small></p>
                      </li>

                      <li id="dropdown-button" >
                        <button class="dropdown-item" type="button">
                          <%= link_to destroy_user_session_path, method: :delete, class:'link-dark username' do%> &ensp;
                            Log out <small>@<%=current_user.username %></small>
                            <% end %>
                        </button>
                      </li>
                    </ul>
                  </div>
                </div>
              <% end %>
            </li>

          </ul>
        </div>

      </div>

      <div class="col-lg-5 col-md-8 col-sm-8 offset-3 border-top-0">
        <div class="row col-lg-5 col-md-8 col-sm-8">
          <nav class="navbar position-fixed navbar-expand-lg navbar-light nav-home" >
            <div class="col-lg-5 col-md-8 col-sm-8">
              <a class="navbar-brand" href="/"><strong>Home</strong></a>
            </div>
          </nav>
        </div>
        <main class='<%= controller.controller_name %>' style="padding-top: 60px;">
        <%= yield %>
          </main>
      </div>

      <div class="col-lg-4 col-md-0% col-sm-0%">
        <nav class="navbar position-fixed navbar-expand-lg navbar-light bg-white"  style="width: 33.3%; z-index: 0 ">
          <div class="container-fluid">
            <form class="d-flex search" style="width: 80%; height: 45px" >
              <input class="form-control me-2" type="search" placeholder=" Search Twitter" aria-label="Search" >
            </form>
          </div>
        </nav>
      </div>
    </div>
  </div>

</body>
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <%= render 'tweets/form', tweet: @tweet %>
          </div>
        </div>
      </div>
    </div>

</html>

